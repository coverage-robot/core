{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "extends": [
        "config:recommended"
    ],
    "labels": [
        "dependencies",
        "bump-patch",
        "chore"
    ],
    "packageRules": [
        {
            "description": "Add php label to php dependency updates",
            "matchFileNames": [
                "**/composer.json",
                "**/composer.lock"
            ],
            "addLabels": [
                "php"
            ]
        },
        {
            "description": "Add terraform label to terraform dependency updates",
            "matchFileNames": [
                "**/.terraform.lock.hcl"
            ],
            "addLabels": [
                "terraform"
            ]
        },
        {
            "description": "Add github actions label to CI dependency updates",
            "matchFileNames": [
                ".github/workflows/**"
            ],
            "addLabels": [
                "github-actions"
            ]
        },
        {
            "description": "Always group dependencies for services into a single PR",
            "matchFileNames": [
                "services/**"
            ],
            "additionalBranchPrefix": "services/"
        },
        {
            "description": "Always group dependencies for packages into a single PR",
            "matchFileNames": [
                "packages/**"
            ],
            "additionalBranchPrefix": "packages/"
        },
        {
            "description": "Always group infrastructure changes into a single PR",
            "matchFileNames": [
                "infrastructure/**"
            ],
            "additionalBranchPrefix": "infrastructure/"
        },
        {
            "description": "Always group internal packages into a single PR",
            "matchPackageNames": [
                "coverage-robot/**"
            ],
            "matchFileNames": [
                "**/composer.json",
                "**/composer.lock"
            ],
            "additionalBranchPrefix": "internal-packages/"
        }
    ]
}
